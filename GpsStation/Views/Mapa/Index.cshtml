@{
	ViewData["Title"] = "Mapa";
}

@section Estilo{
	<link rel="stylesheet" href="~/css/mapa.css" />
}

@section Script{
	<script>L_NO_TOUCH = false; L_DISABLE_3D = false;</script>
	<script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js"></script>
	<script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css" />
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" />
	<link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" />
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@@fortawesome/fontawesome-free@6.2.0/css/all.min.css" />
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css" />
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css" />
}

@using Microsoft.AspNetCore.Http;
@using Newtonsoft.Json;
@inject Microsoft.AspNetCore.Http.IHttpContextAccessor httpContextAccessor;

<div class="folium-map" id="map_55bbce51b6ab60a6b4c85363dc2540ad"></div>

<p class="usuarioLogado">Usuário logado:@httpContextAccessor.HttpContext.Session.GetString(" usuario")</p>


<script src="/js/mapa.js"></script>
<script>

	latitude = @Html.Raw(Json.Serialize(@ViewBag.Latitude))
	longitude = @Html.Raw(Json.Serialize(@ViewBag.Longitude))
	tipo = @Html.Raw(Json.Serialize(@ViewBag.Tipo))

	localStorage.setItem("latitude", latitude)
	localStorage.setItem("longitude", longitude)
	localStorage.setItem("tipo", tipo)

	adicionarDadosMapa();

</script>

